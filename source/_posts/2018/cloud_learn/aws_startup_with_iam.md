---
title: "[學習筆記] AWS 註冊到建立安全性帳戶"
date: 2018/01/26 14:24:16
tags:
  - AWS
---

## 該知道的事

1. 僅作為學習 AWS 的過程記錄用
2. 可能對你有幫助
3. 可能對你沒幫助
4. 有沒有幫助都歡迎你提出問題與討論

## 創建帳號

這段蠻簡單的，不贅敘;特別一提的事`可以使用有 VISA 的金融卡作金額控管`
比起信用卡動輒數萬到數十萬的額度，可以在金融卡存個 3000 之類的。
預算可以更彈性,而且精準的控制預算。

另外說一下，現在 AWS 有一年的免費額度(已經有好一陣子了)，  
~~在註冊流程跳過付款方式的設定，~~  
~~實際上也是可以操作的 AWS 的(目前只有設定 IAM)。~~
(2018/01/31 更新)
確定`可以使用有VISA的金融卡`開戶，
另外當要實際使用 AWS 的服務時 EX: EC2, Lambda etc...
需要綁定信用卡(VISA 金融卡也可以)才能繼續使用。

綁定的過程會需要輸入電話，AWS 會撥一通電話給你，  
螢幕上會出現 4 個數字，照畫面輸入即可完成信用卡(VISA 金融卡)的驗証。

## 權限控管

### Root User

![Root User](https://i.imgur.com/kRBApSO.jpg)
完成註冊後，一開始只能使用 email 登入，這個帳號可以存取 AWS 所有服務。
AWS **不建議使用 Root User 作為日常的管理帳戶, Root User 應該只被用來建立第一個 IAM**

#### 重點項目

1. Root User 啟用 [MFA](https://aws.amazon.com/iam/details/mfa/)
   ![MFA](https://i.imgur.com/X3T5poV.jpg)
   首先要下載驗証程式(Google Authenticator),
   然後下一步到以下畫面時,，用 Authenticator 掃瞄 QR Code，
   **連續輸入兩次授權碼(輸入完第一組後,等待新的授權碼出現再輸入)**

![連續輸入兩次授權碼](https://i.imgur.com/viNBe2p.jpg)

可以在 [IAM Console](https://console.aws.amazon.com/iam/home) 檢查成功了沒

![IAM Console](https://i.imgur.com/JcC9NVz.jpg) 2. 建立 IAM User 與指定 Group 權限
AWS IAM 的權限觀念是透過 User 與 Group 來組合的，
權限是授與 Group , 而 User 隸屬於 Group 便擁有其權限，
同時 AWS 提供多組(347 組)預設的 Policies, 讓人選擇
當然也可以建立自已的 Policy. \*_不確定有沒有反向的 Policy ，_
_如果有當不同的 Group Policy 有衝突時該如何處理。_

![Policy](https://i.imgur.com/Ry9M2sj.jpg)

建立使用者時, 使用 AutoGenerated Password 時
要記得取得 password
在最後一步會按下 Show 就會顯示
![Show Password](https://i.imgur.com/8DOmpsg.jpg) 3. 設定 AWS Account ID 與 Alias
![設定 AWS Account ID 與 Alias](https://i.imgur.com/ETV1LMR.jpg)

## Q & A

1. 如何禁用 Root user 登入 ? 可以停用而不刪除一個 user account 嗎？

```text
root account 無法停用
IAM User 可以透過 disable passwd 方式停用
root account 基本的 practice
1. 啟用 MFA
2. 移除 Access Credential
概念就跟 Windows Administrator or Linux root 一樣
需要時再用
```

## 參考

- [Root User Account](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_root-user.html)
- [建立第一個 IAM USER](https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html#create-iam-users)

(fin)
